<!DOCTYPE html>
<html lang="es">
<head>
 <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Estado de Conexión a la Base de Datos - Unidad Educativa Litin</title>
  <style>
  /* Estilos generales del cuerpo de la página */
  body { 
 font-family: Arial, sans-serif; 
 margin: 20px; 
  background-color: #f4f7f6; /* Fondo suave */
  color: #333; /* Color de texto principal */
 display: flex;
 justify-content: center;
  align-items: center;
  min-height: 100vh; /* Altura mínima para centrar verticalmente */
  flex-direction: column;
  }
/* Estilos para el título principal */
 h1 {
 color: #2c3e50; /* Azul oscuro */
 text-align: center;
 margin-bottom: 30px;
 }

 /* Estilos para los mensajes de feedback (éxito/error) */
.message {
 margin-top: 15px; /* Espacio superior */
padding: 15px 25px; /* Relleno interno */
border-radius: 8px; /* Esquinas redondeadas */
text-align: center; /* Texto centrado */
 font-weight: bold; /* Negrita */
 box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08); /* Sombra suave */
 min-width: 300px;
 max-width: 500px;
}
 .message.success {
 background-color: #d4edda; /* Fondo verde claro */
 color: #155724; /* Texto verde oscuro */
 border: 1px solid #c3e6cb; /* Borde verde claro */
 }
 /* Estilo para mensajes de error */
 .message.error {
 background-color: #f8d7da; /* Fondo rojo claro */
 color: #721c24; /* Texto rojo oscuro */
 border: 1px solid #f5c6cb; /* Borde rojo claro */
 }
</style>
</head>
<body>
<h1>Estado de Conexión a la Base de Datos</h1>

 <div id="dbStatus" class="message" style="display: none;"></div>

 <script>
const dbStatusDiv = document.getElementById('dbStatus');

        function showMessage(element, message, type) {
 element.textContent = message;
 element.className = `message ${type}`;
element.style.display = 'block';
 }

 async function checkDbConnection() {
 try {
 const response = await fetch('http://127.0.0.1:5000/check_db_connection');
 const result = await response.json();

 if (response.ok && result.status === 'success') {
 showMessage(dbStatusDiv, result.message, 'success');
 } else {
showMessage(dbStatusDiv, result.message || 'Error desconocido al verificar la conexión a la BD.', 'error');
 }
} catch (error) {
 console.error('Error al intentar conectar con el servidor para verificar la BD:', error);
 showMessage(dbStatusDiv, 'Error: El servidor backend no está disponible o hay un problema de red.', 'error');
 }
 }

 window.onload = checkDbConnection;
 </script>
</body>
</html>
